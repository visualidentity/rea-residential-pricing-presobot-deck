.subsection {
	width: 834px;
	background: white;
	height: 1080px;
	position: absolute;
	top:-190px;
	left: -120px;
	transform: translateX(-834px);
	transition: all ease-out 500ms;

}

.subsection__image {
	position: fixed;
	transition: all ease-out 500ms;
	opacity: 0;
	
	&--static {
		position: absolute;
		top: 130px;
		left: 351px;
		width: 1008px;
		height: 760px;
		transform: translate(0px, 850px) scale(1);

		&.launched {
			opacity: 1;
			transform: translate(0px, 0px) scale(1);
		}

		.subsection__image-static-product {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-size: contain;
			background-repeat: no-repeat;
			background-position: center top;

			&--laptop,
			&--laptop-mobile {
				top: 57px;
				left: 122px;
				width: 763px;
				height: 444px;
				background-size: cover;
			}

			&--tablet {
				top: 63px;
				left: 303px;
				width: 404px;
				height: 548px;
				background-size: cover;
			}

			&--small-mobile {
				top: 257px;
				left: 791px;
				width: 161px;
				height: 302px;
				background-size: cover;
			}
		}

		.subsection__image-wrapper {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-size: contain;
			background-repeat: no-repeat;
			background-position: center top;

			&--laptop,
			&--laptop-mobile {
				@include retina-background-image('./img/devices/laptop');
			}

			&--small-mobile {
				top: 226px;
				left: 780px;
				width: 182px;
				height: 383px;
				@include retina-background-image('./img/devices/mobile');
			}

			&--tablet {
				@include retina-background-image('./img/devices/tablet');
			}
		}
	}
}

.subslide-side-panel__navigation {
	position: absolute;
	bottom: 23px;
	right: 108px;
	z-index: 900;
	transform: translateZ(2000px);
	div {
		display: inline-block;
		width: 56px;
		height: 56px;
		background-repeat: no-repeat;
		background-position: center;
	}
}
.subslide-side-panel__forward {
	background-image: url('img/subsection/chevron-down.svg');
	background-color: colour(bluestone);
	background-size: 20px 10px;
}
.subslide-side-panel__back {
	background-image: url('img/subsection/chevron-up.svg');
	background-color: colour(bluestone);
	background-size: 20px 10px;
}

.subslide-side-panel__return {
	background-image: url('img/subsection/return.svg');
	background-size: 35px 30px;
}

.subslide-side-panel {
	.rea-ribbon,
	.rea-ribbon-yellow {
		width: 30px;
		top: 140px;
		bottom: 140px;
		&:after {
			top: 50%;
			transform: translateY(-50%);
			left: 30px;
		}
	}
}

.subslide-side__slide {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	z-index: 600;
	background: #F0F1F2;
	transition: transform ease-out 500ms;
	height: 100%;
	border-bottom: solid 1px #ccc;
	&.active {
		z-index: 800;
	}
	&.preload {
		z-index: 700;
	}
	&:nth-child(2) {

	}
}

.subsection__navigation {
	position: absolute;
	width: 266px;
	z-index: 1;
	&--1 {
		transform: translate(-1000px, 0px);
		top: 246px;
		&.launched {
			animation: moveLeft 500ms ease-out forwards;
		}
	}
	&--2 {
		transform: translate(-1000px, 0px);

		top: 605px;
		&.launched {
			animation: moveLeft 500ms ease-out 100ms forwards;
		}
	}
	&--3 {
		transform: translate(1000px, 0px);
		&.launched {
			animation: moveRight 500ms ease-out forwards;
		}
		top: 246px;
		right: 0;
	}
	&--4 {
		transform: translate(1000px, 0px);
		&.launched {
			animation: moveRight 500ms ease-out 100ms forwards;
		}

		top: 605px;
		right: 0;
	}
	&:after {
		position: absolute;
		content: '';
		background-image: url('img/subsection/prompt.png');
		background-size: contain;
		width: 39px;
		height: 39px;
		top: 50px;
		right: 77px;
	}

	&--no-prompt {
		.master &,
		.share_online & {
			cursor: default;
		}

		&:after {
			content: none;
		}
	}
}

.reach {
	&:after {
		position: absolute;
		content: '';
		background-image: url('img/subsection/reach-button.png');
		background-size: contain;
		width: 39px;
		height: 39px;
		top: 52px;
		right: 80px;
	}
}

.animated.slide-header-center {
	.arrow {
		width: 0px;
		background-size: 529px;
		&.launched {
			animation: growWidth 500ms ease-out forwards;
		}
	}
	.slide-header-center__subtitle {
		opacity: 0;
		width: 1250px;
		margin-left: auto;
		margin-right: auto;
		&.launched {
			animation: fadeSubtitleIn 500ms ease-out 500ms forwards;
		}

	}
}

@keyframes fadeSubtitleIn {
	from {
		opacity: 0;
	}
	to {
		opacity: 1;
	}
}

@keyframes growWidth {
	from {
		width: 0px;
	}
	to {
		width: 538px;
	}
}

@keyframes moveLeft {
	from {
		transform: translate(-1000px, 0px);
	}
	to {
		transform: translate(0px, 0px);
	}
}

@keyframes moveRight {
	from {
		transform: translate(1000px, 0px);
	}
	to {
		transform: translate(0px, 0px);
	}
}



.subsection__title {
	text-align: center;
	font-size: 26px;
	line-height: 1.15;
	color: colour(pebble);
}

$subsection-icon-list: (
	list-pebble: (
		width: 70px,
		height: 54px
	),
	avatar-pebble: (
		width: 85px,
		height: 85px
	),
	avatar-red: (
		width: 85px,
		height: 85px
	),
	eye-pebble: (
		width: 104px,
		height: 61px
	),
	speech-pebble: (
		width: 85px,
		height: 75px
	),
	speech-red: (
		width: 85px,
		height: 75px
	),
  hand-star-red: (
		width: 85px,
		height: 85px
  ),
	people-pebble: (
		width: 97px,
		height: 81px
	),
	profile-pebble: (
		width: 85px,
		height: 85px
	),
	exposure: (
		width: 85px,
		height: 85px
	),
	hand-pebble: (
		width: 85px,
		height: 85px
	),
	max-results: (
		width: 85px,
		height: 85px
	),
	house-one: (
		width: 85px,
		height: 85px
	),
	exposure-pebble: (
		width: 85px,
		height: 85px
	),
	exposure-red: (
		width: 85px,
		height: 85px
	),
	house-pebble: (
		width: 85px,
		height: 85px
	),
	performance: (
		width: 85px,
		height: 85px
	),
	campaign: (
		width: 88px,
		height: 88px
	),
	campaign-details: (
		width: 88px,
		height: 88px
	),
	group: (
		width: 85px,
		height: 85px
	),
	handling: (
		width: 85px,
		height: 85px
	),
	head: (
		width: 85px,
		height: 85px
	),
	money-down: (
		width: 85px,
		height: 85px
	),
	tick: (
		width: 85px,
		height: 85px
	),
	head-tick: (
		width: 85px,
		height: 85px
	),
	file-tick: (
		width: 85px,
		height: 85px
	),
	database-tick: (
		width: 85px,
		height: 85px
	),
	web: (
		width: 85px,
		height: 85px
	),
	document: (
		width: 85px,
		height: 85px
	),
	documents: (
		width: 85px,
		height: 85px
	),
	circle-select: (
		width: 85px,
		height: 85px
	),
	protection-tick: (
		width: 85px,
		height: 85px
	),
	star: (
		width: 85px,
		height: 85px
	),
	screen-tick: (
		width: 85px,
		height: 85px
	),
	person-tick: (
		width: 85px,
		height: 85px
	),
	profit-in: (
		width: 85px,
		height: 85px
	),
	house-money: (
		width: 85px,
		height: 85px
	),
	connect: (
		width: 85px,
		height: 85px
	),
	clock: (
		width: 85px,
		height: 85px
	),
	// CWE dynamic image
	editable: (
		width: 150px,
		height: 86px
	),
	people-red: (
		width: 150px,
		height: 86px
	),
	house-red: (
		width: 150px,
		height: 86px
	),
	star-red: (
		width: 150px,
		height: 86px
	),
	location-red: (
		width: 150px,
		height: 86px
	)
);

.subsection__icon {
	@each $key, $value in $subsection-icon-list {
		&--#{$key} {
			width: map-get($value, width);
			height: map-get($value, height);
			margin: 0 auto;
			margin-bottom: 26px;
			background-position: center;
			background-size: contain;
			background-repeat: no-repeat;
			background-image: url('img/subsection/#{$key}.svg');
		}
	}
}

.subslide-side__slide {
	.subsection__icon {
		margin: 0;
		margin-bottom: 30px;
		transform: scale(1.3);
		transform-origin: top left;
	}
}

.slide__content {
	position: absolute;
	left: 119px;
	width: 541px;
	top: 50%;
	@include transform(translateY(-50%));
}

.slide__category {
	color: colour(pebble);
	font-size: 22px;
	margin-bottom: 6px;
}

.slide__title {
	font-size: 60px;
	line-height: 1;
	color: colour(bluestone);
	margin-bottom: 27px;
	font-weight: 900;
	position: relative;
	margin-top:30px;
  &--small {
    font-size: 30px;
  }
}

.subsection-line {
	position: absolute;
	left: 100%;
}

.slide__body{
	font-size: 26px;
}

.subslide-side-panel {
	polyline,
	path {
		stroke-dasharray: 1000;
		stroke-dashoffset: -1000;
		opacity: 0;
		transition: opacity 1000ms ease-out;
		&.launched {
			opacity: 1;
			animation: dashBackwards 1000ms ease-out forwards;
		}
	}
	.subsection-line--forwards  {
		polyline,
		path {
			stroke-dashoffset: 1000;
			&.launched {
				opacity: 1;
				animation: dashForwards 1000ms ease-out forwards;
			}
		}
	}
}


@keyframes dashBackwards {
	from {
		stroke-dashoffset: -1000;
	}
	to {
		stroke-dashoffset: 0;
	}
}

@keyframes dashForwards {
	from {
		stroke-dashoffset: 1000;
	}
	to {
		stroke-dashoffset: 0;
	}
}

.subsection__disclaimer__container {
	opacity: 0;
	transition: opacity 500ms ease-out;
	&.active {
		opacity: 1;
	}
	font-size: 12px;
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
}

.subsection__disclaimers
 {
    position: absolute;
    left: 60px;
    bottom: 64px;
    width: 439px;
    font-size: 12px;
    z-index: 900;
}
.subsection__slide__disclaimers {
    position: fixed;
    bottom: 20px;
    width: 800px;
    font-size: 12px;
    left: 143px;
	font-family: $font-base-text;
	ul {
		list-style: none;
		li {
			font-family: $font-base-text;
		}
	}
}

.subsection__category {
	position: fixed;
	z-index: 1;
	&--1 {
		top: 291px;
		left: 124px;
	}
	&--2 {
		top: 672px;
		left: 124px;
	}
	&--3 {
		top: 573px;
		right: 69px;
		.subsection__category__title .subsection-line {
			left: unset;
			right: 121%;
		}
	}
	.subsection__navigation {
		position: relative;
		width: 500px;
		&:after {
			width: 30px;
			height: 30px;
			right: unset;
			top: 32px;
			left: 63px;
		}
		margin-bottom: 24px;
	}

	.subsection__icon {
		display: inline-block;
		vertical-align: middle;
		margin: 0;
	}
	.subsection__title  {
		margin-left: 13px;
		display: inline-block;
		vertical-align: middle;
		text-align: left;
		width: 300px;
		font-size: 26px;
		line-height: 1.1;
		font-weight: 500;
	}
	.subsection__icon {
		transform: scale(0.7);
	}
	.subsection__icon__container {
		text-align: center;
		display: inline-block;
		width: 100px;
	}
}

.subsection__category__title {
	font-size: 30px;
	display: inline-block;
	color: colour(bluestone);
	font-weight: 500;
	margin-bottom: 30px;
	position: relative;
	.subsection-line {
		left: 121%;
		polyline,
		path {
			stroke-dasharray: 1000;
			stroke-dashoffset: 1000;
			// opacity: 0;
			transition: opacity 1000ms ease-out;
			&.launched {
				opacity: 1;
				animation: dashForwards 2000ms ease-out 500ms forwards;
			}
		}
	}
}

.branded-portrait {
	background-image: url('img/dude.png');
	background-position: center;
	background-repeat: no-repeat;
	background-size: contain;
}

.animation-complete {
	// jump to end frame of animation when requested by app
	.launched {
		transition: none !important;
		animation-delay: 0ms !important;
		animation-duration: 0ms !important;
	}
}
